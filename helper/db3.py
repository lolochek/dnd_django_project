import os
import django
from datetime import datetime

os.environ.setdefault("DJANGO_SETTINGS_MODULE", "helper.settings")
django.setup()

from handboook.models import MagicItem


real_dnd_magic_items = [
    {
        "name": "Мантия Невидимости",
        "description": "Мантия, которая делает своего владельца полностью невидимым при её активации.",
        "rarity": "Редкий",
        "effect": "Владелец может использовать мантию для становления невидимым на 1 минуту, раз в день. Эффект исчезает, если владелец атакует или использует магию.",
        "last_updated": datetime.now()
    },
    {
        "name": "Посох Древнего Колдовства",
        "description": "Этот посох был создан древними магами и придаёт своему владельцу огромные магические силы.",
        "rarity": "Очень редкий",
        "effect": "При использовании посох усиливает все магические заклинания владельца, увеличивая их урон или продолжительность на 50%. Также даёт возможность раз в день использовать заклинание 'Остановить Время'.",
        "last_updated": datetime.now()
    },
    {
        "name": "Талисман Священной Защиты",
        "description": "Талисман, дарующий своему владельцу иммунитет к темной магии и магическим проклятиям.",
        "rarity": "Легендарный",
        "effect": "Талисман полностью нейтрализует любые попытки проклятия или темной магии, направленной на владельца. Также позволяет отразить 25% магического урона.",
        "last_updated": datetime.now()
    },
    {
        "name": "Перстень Заклинателя",
        "description": "Этот перстень усиливает способности заклинателей и дает дополнительную силу заклинаниям.",
        "rarity": "Необычный",
        "effect": "Перстень увеличивает силу всех заклинаний, которые владелец может произнести, увеличивая урон или дальность их воздействия на 2 уровня.",
        "last_updated": datetime.now()
    },
    {
        "name": "Щит Отражений",
        "description": "Этот щит способен отражать вражеские атаки назад к нападающему.",
        "rarity": "Редкий",
        "effect": "Каждый раз, когда владелец щита подвергается атаке, щит может отразить 25% урона обратно в атакующего. Эффект активируется автоматически.",
        "last_updated": datetime.now()
    },
    {
        "name": "Амулет Древнего Мудреца",
        "description": "Амулет, который даёт своему владельцу глубокие знания о магии и древней истории.",
        "rarity": "Очень редкий",
        "effect": "Этот амулет увеличивает интеллект владельца на 4 и позволяет ему раз в неделю получить подсказку для решения сложной задачи или разгадки магического заговора.",
        "last_updated": datetime.now()
    },
    {
        "name": "Перстень Вечности",
        "description": "Этот магический перстень позволяет своему владельцу замедлять или ускорять время.",
        "rarity": "Легендарный",
        "effect": "Раз в месяц перстень позволяет владельцу ускорить или замедлить течение времени на 10 минут. В течение этого времени все действия владельца становятся в два раза быстрее или медленнее, в зависимости от его выбора.",
        "last_updated": datetime.now()
    },
    {
        "name": "Кристалл Призыва",
        "description": "Кристалл, который позволяет своему владельцу вызывать могущественных существ для помощи в бою.",
        "rarity": "Легендарный",
        "effect": "Кристалл позволяет вызывать существ из других миров, таких как элементали, ангелы или демоны. Владелец может использовать кристалл раз в месяц для вызова существа, которое останется на его стороне в течение 1 часа.",
        "last_updated": datetime.now()
    },
    {
        "name": "Гарпун Ветра",
        "description": "Магический гарпун, который может управлять ветром и создавать смертоносные воздушные потоки.",
        "rarity": "Редкий",
        "effect": "Этот гарпун позволяет владельцу вызывать сильные ветра, которые могут сбивать врагов с ног и наносить урон в радиусе 10 футов. Также позволяет летать на короткие дистанции (до 30 футов) раз в день.",
        "last_updated": datetime.now()
    },
    {
        "name": "Жезл Ледяной Бури",
        "description": "Магический жезл, который позволяет владельцу управлять ледяными бурями и холодом.",
        "rarity": "Очень редкий",
        "effect": "Жезл позволяет владельцу создавать ледяные бури, которые наносят 6к6 холодного урона и замедляют противников. Также дает возможность контролировать ледяные элементы в радиусе 30 футов.",
        "last_updated": datetime.now()
    },
    {
        "name": "Бутылка Безграничных Вод",
        "description": "Эта бутылка никогда не заканчивается водой, независимо от того, сколько её из неё берут.",
        "rarity": "Необычный",
        "effect": "Бутылка может изливать воду бесконечно, а также превращать её в магическую жидкость, которая лечит 2к6 здоровья при употреблении.",
        "last_updated": datetime.now()
    },
    {
        "name": "Сфера Разрушения",
        "description": "Магическая сфера, которая взрывается, нанося катастрофический урон всем в радиусе взрыва.",
        "rarity": "Легендарный",
        "effect": "Сфера может быть активирована для создания разрушительного взрыва в радиусе 30 футов, нанося 10к10 урона всем в радиусе поражения. Используется один раз в месяц.",
        "last_updated": datetime.now()
    }
]

for item in real_dnd_magic_items:
    MagicItem.objects.create(
        name=item["name"],
        description=item["description"],
        rarity=item["rarity"],
        effect=item["effect"],
        last_updated=item["last_updated"]
    )

print("✅ Магические предметы успешно добавлены в базу данных!")

